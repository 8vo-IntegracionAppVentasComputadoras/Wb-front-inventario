<div class="section">
  <div class="container">
    <div class="row full-height justify-content-center">
      <div class="col-12 text-center align-self-center py-5">
        <div class="section pb-5 pt-5 pt-sm-2 text-center">
          <h6 class="mb-0 pb-3">
            <span>Iniciar Sesión</span>
            <span>Registrarse</span>
          </h6>
          <input class="checkbox" type="checkbox" id="reg-log" name="reg-log" (change)="switchMode()" />
          <label for="reg-log"></label>

          <div class="card-3d-wrap mx-auto">
            <div class="card-3d-wrapper">

              <!-- Formulario de Login -->
              <div class="card-front" *ngIf="isLoginMode">
                <div class="center-wrap">
                  <div class="section text-center">
                    <h4 class="mb-4 pb-3">Iniciar Sesión</h4>
                    <form [formGroup]="loginForm">

                      <!-- Campo de usuario con icono -->
                      <div class="form-group">
                        <div class="input-container">
                          <i class="input-icon uil uil-user-check"></i> <!-- Icono de usuario -->
                          <input type="text" class="form-style" placeholder="Usuario" formControlName="username" />
                        </div>
                        <div *ngIf="loginForm.get('username')?.invalid && loginForm.get('username')?.touched"
                          class="text-danger mt-1">
                          Usuario es requerido.
                        </div>
                      </div>

                      <!-- Campo de contraseña con icono -->
                      <div class="form-group mt-2">
                        <div class="input-container">
                          <i class="input-icon uil uil-lock-alt"></i> <!-- Icono de candado -->
                          <input type="password" class="form-style" placeholder="Contraseña"
                            formControlName="password" />
                        </div>
                        <div *ngIf="loginForm.get('password')?.invalid && loginForm.get('password')?.touched"
                          class="text-danger mt-1">
                          Contraseña es requerida.
                        </div>
                      </div>

                      <!-- Botón de iniciar sesión -->
                      <button class="btn mt-1" (click)="onLogin()">Iniciar Sesión</button>

                      <p class="mt-3">
                        <a href="#" data-bs-toggle="modal" data-bs-target="#resetPasswordModal">¿Olvidaste tu
                          contraseña?</a>
                      </p>
                    </form>
                  </div>
                </div>
              </div>


              <!-- Formulario de Registro -->
              <div class="card-back" *ngIf="!isLoginMode">
                <div class="center-wrap">
                  <div class="section text-center">
                    <h4 class="mb-3 pb-3">Crear Cuenta</h4>
                    <form [formGroup]="registerForm">

                      <!-- Apellidos y Nombres -->
                      <div class="form-group mb-2" style="display: flex;">
                        <div class="input-container" style="flex: 1; margin-right: 10px;">
                          <input type="text" class="form-style" placeholder="Apellidos" formControlName="apellido" />
                          <i class="input-icon uil uil-user"></i>
                          <div *ngIf="registerForm.get('apellido')?.invalid && registerForm.get('apellido')?.touched"
                            class="text-danger">
                            Apellido es requerido.
                          </div>
                        </div>
                        <div class="input-container" style="flex: 1;">
                          <input type="text" class="form-style" placeholder="Nombres" formControlName="nombre" />
                          <i class="input-icon uil uil-user"></i>
                          <div *ngIf="registerForm.get('nombre')?.invalid && registerForm.get('nombre')?.touched"
                            class="text-danger">
                            Nombre es requerido.
                          </div>
                        </div>
                      </div>

                      <!-- Teléfono y DNI -->
                      <div class="form-group mb-2" style="display: flex;">
                        <div class="input-container" style="flex: 1; margin-right: 10px;">
                          <input type="tel" class="form-style" placeholder="Teléfono" formControlName="telefono" />
                          <i class="input-icon uil uil-phone"></i>
                          <div *ngIf="registerForm.get('telefono')?.invalid && registerForm.get('telefono')?.touched"
                            class="text-danger">
                            Teléfono debe ser de 9 dígitos.
                          </div>
                        </div>
                        <div class="input-container" style="flex: 1;">
                          <input type="text" class="form-style" placeholder="DNI" formControlName="dni" />
                          <i class="input-icon uil uil-postcard"></i>
                          <div *ngIf="registerForm.get('dni')?.invalid && registerForm.get('dni')?.touched"
                            class="text-danger">
                            DNI debe ser de 8 dígitos.
                          </div>
                        </div>
                      </div>

                      <!-- Correo -->
                      <div class="form-group mt-2">
                        <div class="input-container">
                          <input type="email" class="form-style" placeholder="Correo" formControlName="correo" />
                          <i class="input-icon uil uil-at"></i>
                          <div *ngIf="registerForm.get('correo')?.invalid && registerForm.get('correo')?.touched"
                            class="text-danger">
                            Correo no es válido.
                          </div>
                        </div>
                      </div>

                      <!-- Usuario -->
                      <div class="form-group mt-2">
                        <div class="input-container">
                          <input type="text" class="form-style" placeholder="Usuario" formControlName="username" />
                          <i class="input-icon uil uil-user-check"></i>
                          <div *ngIf="registerForm.get('username')?.invalid && registerForm.get('username')?.touched"
                            class="text-danger">
                            Usuario es requerido.
                          </div>
                        </div>
                      </div>

                      <!-- Contraseña -->
                      <div class="form-group mt-2">
                        <div class="input-container">
                          <input type="password" class="form-style" placeholder="Contraseña"
                            formControlName="password" />
                          <i class="input-icon uil uil-unlock"></i>
                          <div *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
                            class="text-danger">
                            Contraseña es requerida.
                          </div>
                        </div>
                      </div>

                      <button class="btn mt-4" (click)="onRegister()">Registrarse</button>
                    </form>
                  </div>
                </div>
              </div>


            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

